<div class="form-section">
  <form [formGroup]="skillsForm">
    <div formArrayName="skillsRecords">

      <p-accordion>
        <p-accordionTab
          *ngFor="let skills of skillsRecord.controls; let i = index"
          [formGroupName]="i"
          [header]="skills.get('name')?.value || 'New Skill'"
          [selected]="true"
        >
 
        <div class="form-section flex flex-wrap -mx-2">
          <div class="form-group w-full px-2 py-2 sm:w-1/2">
            <label for="name"> Skill </label>
            <input
              id="name"
              type="text"
              pInputText
              placeholder=" Enter Skill"
              formControlName="name"
              class="w-full"
            />
          </div>

          <div class="example-input px-2 py-2 sm:w-1/2">
            <label for="name"> Proficiency </label>
            <p-dropdown
              class="w-full"
              formControlName="proficiency"
              [showClear]="true"
              placeholder="Select Proficiency"
              [options]="[
                {label: 'Beginner', value: 'Beginner'},
                {label: 'Intermediate', value: 'Intermediate'},
                {label: 'Advanced', value: 'Advanced'},
                {label: 'Expert', value: 'Expert'},
                {label: 'Master', value: 'Master'}
              ]"
              optionLabel="label"
              optionValue="value"
            ></p-dropdown>
          </div>
        </div>

        <div class="form-section w-full flex flex-wrap py-2 sm:w-1/2">
          <label for="name"> Level </label>
          <p-slider class="w-full"></p-slider>
        </div>

        <div class="form-actions">
          <p-button
            (onClick)="removeRecord(i)"
            severity="danger"
            [outlined]="true"
            icon="pi pi-trash"
            label="Remove"
            type="button"
          ></p-button>
        </div>

      </p-accordionTab>
    </p-accordion>

      </div>
    <!-- </div> -->


    <p-button
      (onClick)="addRecord()"
      label="+ Add Skill"
      icon="pi pi-plus"
      class="btn-add"
      severity="secondary"
      [outlined]="true"
      type="button"
    ></p-button>
  </form>
</div>
