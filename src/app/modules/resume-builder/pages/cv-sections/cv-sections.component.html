<div class="resume-builder-page">
  <div class="page-header">
    <div class="header-info">
      <h1 class="page-title">Resume Builder</h1>
      <p class="page-subtitle">Create your professional resume step by step</p>
    </div>
    <div class="header-actions">
      <p-button 
        icon="pi pi-download" 
        label="Download PDF" 
        severity="secondary" 
        [outlined]="true"
      ></p-button>
      <p-button 
        icon="pi pi-print" 
        label="Print" 
        severity="secondary" 
        [outlined]="true"
      ></p-button>
    </div>
  </div>

  <div class="builder-container">
    <!-- Left: Form Sections -->
    <div class="form-panel">
      <div class="panel-header">
        <h2 class="panel-title">
          <i class="pi pi-file-edit"></i>
          Resume Sections
        </h2>
        <p class="panel-description">Fill in your information below</p>
      </div>

      <div class="sections-list">
        <p-accordion>
          @for (panel of panels; track panel) {
          <p-accordionTab [selected]="panel.active">
            <ng-template pTemplate="header">
              <div class="section-header">
                <div class="section-title-group">
                  <i [class]="panel.icon" class="section-icon"></i>
                  <span class="section-name">{{ panel.name }}</span>
                </div>
              </div>
            </ng-template>
            <div class="section-content">
              <ng-container *ngIf="panel.visible">
                <ng-container *ngComponentOutlet="panel.component"></ng-container>
              </ng-container>
            </div>
          </p-accordionTab>
          }
        </p-accordion>
      </div>
    </div>

    <!-- Right: Preview & Templates -->
    <div class="preview-panel">
      <!-- Preview Section -->
      <div class="preview-section">
        <div class="section-header-inline">
          <h3 class="section-title-small">
            <i class="pi pi-eye"></i>
            Live Preview
          </h3>
        </div>
        <div class="preview-content-wrapper">
          <app-cv-preview></app-cv-preview>
        </div>
      </div>

      <!-- Templates Section -->
      <div class="templates-section">
        <div class="section-header-inline">
          <h3 class="section-title-small">
            <i class="pi pi-palette"></i>
            Templates
          </h3>
        </div>
        <div class="templates-wrapper">
          <div class="template-grid">
            <div class="template-item active">
              <div class="template-thumb">
                <img src="/assets/images/sample.jpg" alt="Template Sunshine" />
                <div class="active-badge">
                  <i class="pi pi-check"></i>
                </div>
              </div>
              <div class="template-details">
                <h4>Sunshine</h4>
                <span>Modern</span>
              </div>
            </div>

            <div class="template-item">
              <div class="template-thumb">
                <img src="/assets/images/sample.jpg" alt="Template Bright" />
              </div>
              <div class="template-details">
                <h4>Bright</h4>
                <span>Clean</span>
              </div>
            </div>

            <div class="template-item">
              <div class="template-thumb">
                <img src="/assets/images/sample.jpg" alt="Template Kingdom" />
              </div>
              <div class="template-details">
                <h4>Kingdom</h4>
                <span>Classic</span>
              </div>
            </div>

            <div class="template-item">
              <div class="template-thumb">
                <img src="/assets/images/sample.jpg" alt="Template Uptown" />
              </div>
              <div class="template-details">
                <h4>Uptown</h4>
                <span>Elegant</span>
              </div>
            </div>

            <div class="template-item">
              <div class="template-thumb">
                <img src="/assets/images/sample.jpg" alt="Template SK" />
              </div>
              <div class="template-details">
                <h4>SK</h4>
                <span>Minimal</span>
              </div>
            </div>

            <div class="template-item">
              <div class="template-thumb">
                <img src="/assets/images/sample.jpg" alt="Template Scaller" />
              </div>
              <div class="template-details">
                <h4>Scaller</h4>
                <span>Bold</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
